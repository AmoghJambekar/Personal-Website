---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

// Get all photo collections
const photoCollections = await getCollection('photos');
---

<Layout title="Photos | Amogh Jambekar">
  <div class="container">
    <h1>Photos</h1>
    <div class="photo-grid">
      {photoCollections.map((collection) => (
        <a href={`/photos/${collection.slug}`} class="photo-item">
          <img src={collection.data.coverImage} alt={collection.data.title} />
          <div class="photo-overlay">
            <div class="photo-title">{collection.data.title}</div>
            <div class="photo-date">{new Date(collection.data.date).toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}</div>
          </div>
        </a>
      ))}
    </div>
  </div>
</Layout>

    <style>
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 20px;
      }

      h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 2rem;
        letter-spacing: -0.025em;
      }

      .photo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 24px;
        padding: 20px 0;
      }

      .photo-item {
        position: relative;
        aspect-ratio: 3/2;
        overflow: hidden;
        border-radius: 12px;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .photo-item:hover {
        transform: scale(1.02);
      }

      .photo-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .photo-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px;
        background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        color: white;
      }

      .photo-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 4px;
      }

      .photo-date {
        font-size: 0.875rem;
        opacity: 0.8;
      }

      @media (max-width: 768px) {
        .photo-grid {
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 16px;
        }

        h1 {
          font-size: 2rem;
        }
      }
    </style>